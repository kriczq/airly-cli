apply plugin: 'java'

sourceCompatibility = '9'
targetCompatibility = '9'

repositories {
    mavenCentral()
}

dependencies {
    compile'com.jsoniter:jsoniter:0.9.15'
    testCompile group: 'junit', name: 'junit', version: '4.12'
}

compileJava {
    doFirst {
        options.compilerArgs = [
                '--module-path', classpath.asPath,
        ]
        classpath = files()
    }
}

jar {
    manifest {
        attributes(
                'Class-Path': configurations.compile.collect { it.getName() }.join(' '),
                'Main-Class': 'airly.Application'
        )
    }

    archiveName = "airly-cli.jar"
}